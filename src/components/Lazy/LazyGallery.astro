---
/**
 * Lazy-loaded Gallery Component
 *
 * This component contains high-resolution images to demonstrate the
 * payload deferral benefits of the vite-plugin-astro-prerender plugin.
 */

const images = [
    {
        url: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=1200",
        title: "Deep Space Exploration",
        description: "Capturing the essence of the unknown infinity.",
    },
    {
        url: "https://images.unsplash.com/photo-1614728263952-84ea256f9479?auto=format&fit=crop&q=80&w=1200",
        title: "Neon Cityscape",
        description: "The vibrant life of a futuristic metropolis at night.",
    },
    {
        url: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1200",
        title: "Future Retro Tech",
        description: "Nostalgic hardware meets modern aesthetics.",
    },
    {
        url: "https://images.unsplash.com/photo-1464802686167-b939a6910659?auto=format&fit=crop&q=80&w=1200",
        title: "Stellar Cloud",
        description: "Interstellar dust forming the nursery of new stars.",
    },
    {
        url: "https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&q=80&w=1200",
        title: "Satellite View",
        description: "Our fragile oasis viewed from the edge of space.",
    },
    {
        url: "https://images.unsplash.com/photo-1465101162946-4377e57745c3?auto=format&fit=crop&q=80&w=1200",
        title: "Nebula Dreams",
        description: "Vibrant colors of ionizing gases in deep space.",
    },
];
---

<section class="gallery-section">
    <div class="gallery-container">
        <div class="gallery-header">
            <div class="heavy-badge">
                <span class="badge-icon">ðŸª¨</span>
                <span>Heavy Payload Component (~5.2MB Deferred)</span>
            </div>
            <h2 class="gallery-title">High-Resolution Visual Showcase</h2>
            <p class="gallery-subtitle">
                This entire gallery was prerendered to static HTML and deferred.
                Initial page weight reduced significantly.
            </p>
        </div>

        <div class="gallery-grid lazy-content">
            {
                images.map((img) => {
                    return (
                        <div class="gallery-item">
                            <div class="image-wrapper">
                                <img src={img.url} alt={img.title} />
                                <div class="image-overlay">
                                    <h3>{img.title}</h3>
                                    <p>{img.description}</p>
                                </div>
                            </div>
                        </div>
                    );
                })
            }
        </div>
    </div>
</section>

<style>
    .gallery-section {
        padding: 6rem 2rem;
        background: #05050a;
        font-family: "Inter", sans-serif;
    }

    .gallery-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .gallery-header {
        text-align: center;
        margin-bottom: 4rem;
    }

    .heavy-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.2);
        color: #f87171;
        padding: 0.5rem 1.25rem;
        border-radius: 2rem;
        font-size: 0.8rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .gallery-title {
        font-size: 2.5rem;
        font-weight: 800;
        color: #fff;
        margin: 0 0 1rem;
        background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .gallery-subtitle {
        color: #94a3b8;
        font-size: 1.125rem;
        max-width: 600px;
        margin: 0 auto;
    }

    .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 2rem;
    }

    .gallery-item {
        border-radius: 1.5rem;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .gallery-item:hover {
        transform: translateY(-10px);
        border-color: rgba(99, 102, 241, 0.3);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }

    .image-wrapper {
        position: relative;
        aspect-ratio: 16 / 10;
        overflow: hidden;
    }

    .image-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s ease;
    }

    .gallery-item:hover .image-wrapper img {
        transform: scale(1.1);
    }

    .image-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            0deg,
            rgba(0, 0, 0, 0.8) 0%,
            transparent 60%
        );
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 1.5rem;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .gallery-item:hover .image-overlay {
        opacity: 1;
    }

    .image-overlay h3 {
        color: #fff;
        font-size: 1.25rem;
        margin: 0 0 0.5rem;
    }

    .image-overlay p {
        color: #cbd5e1;
        font-size: 0.9rem;
        margin: 0;
    }
</style>
